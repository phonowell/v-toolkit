(function(){var n,o,e;o=require("lodash"),n=require("fire-keeper"),e=require("axios"),module.exports=async function(){var r,i,a,t,u,c,h,l,f,s,d,m,p,g,k,w,$;for(n.info("check 'api'"),n.info().pause(),m=await n.source_("./data/api/**/*.yaml"),s=await async function(){var o,e,r;for(r=[],o=0,e=m.length;o<e;o++)w=m[o],r.push(await n.read_(w));return r}(),n.info().resume(),d=[],a=t=0,h=m.length;t<h;a=++t)for(c in w=m[a],p=n.getBasename(w),r=s[a]){(null!=(g=($=r[c]).doc)?g.length:void 0)||d.push(`found no 'doc' in '${p}/${c}'`),(null!=(k=$.mock)?k.length:void 0)||d.push(`found no 'mock' in '${p}/${c}'`);try{if(200!==(i=await e[$.method]($.mock)).data.code)throw n.i(i.data),new Error}catch(n){n,d.push(`'mock' could not work in '${p}/${c}': '${$.url}'`)}}if(!d.length)return this;for(u=0,l=(d=o.uniq(d)).length;u<l;u++)f=d[u],n.info(f);return this}}).call(this);